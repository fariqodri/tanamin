{% extends 'base.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/tanamin.css' %}">
{% endblock %}
{% block content %}
    <section class="jumbotron" id="home">
        <div class="container cards">
            <div class="text-center py-5 px-4 my-5">
                <div>
                    <h2 class="display-1 h1-responsive pt-3 mb-5 font-bold"><strong>Tanamin</strong></h2>
                    {% for key, value in dictionary.items %}
                        <li class="data">{{ value.name }}</li>
                        <li class="data">,</li>
                        <li class="data">{{ value.color.num }}</li>
                        <li class="data">,</li>
                        <li class="data">{{ value.color.plant }}</li>
                        <li class="data">;</li>
                    {% endfor %}
                    <h2 class="data jumlah">{{tanamans}}</h2>
                    <button class="btn btn-dark">
                        <a href="#map" style="text-decoration: none; color:white">
                            Coba!
                        </a>
                    </button>
                </div>
            </div>
        </div>
    </section>
    <section class="map" id="map">
        <div class="container-map">
            <h1>Peta Persebaran Pangan Indonesia - <em>tanamin</em></h1>
            <div id="geochart" style="width: 100%;"></div>
            <p>
                Persebaran Pangan:
            </p>
            <p>
                {% for key, value in luas_pangan.items %}
                    {{key}}: {{ value }}
                {% endfor %}
            </p>
            <p>
                Conflicts: 
                {{conflicts}}
            </p>
            <div class="card">
                <h5 class="card-header">Form Input User</h5>
                <div class="card-body">
                    <form action="{% url 'home:submit_tanaman' %}" method="POST">
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="col-md">
                                <small class="form-text text-muted">
                                    format: [Jumlah Jenis Tanaman]_[Jenis Tanaman 1]_[Jenis Tanaman n]
                                </small>
                                <small class="form-text text-danger">
                                    Warning: semakin banyak atau sedikit tanaman yang diberikan, semakin lama proses searching
                                    Jika angka yang diberikan terlalu banyak atau sedikit, maka proses mungkin gagal
                                </small>
                                <small class="form-text text-success">
                                    Jumlah yang disarankan: 4-6
                                </small>
                                <small class="form-text text-muted">
                                    contoh: 4_padi_tebu_jagung_teh
                                </small>
                                <label for="tanaman">Jumlah dan Jenis Tanaman <small>(minimal 4 jenis tanaman)</small></label>
                                <input type="text" id="tanaman" class="form-control" name="tanamans" required>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary my-1">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <br>
    <footer id="myFooter" style="text-align:center">
        <p>Â© tanamin SCBD </p>
    </footer>
    <!-- Geo Chart -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="{% static 'js/geochart.js' %}"></script>
{% endblock %}